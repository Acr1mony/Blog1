---
layout: 关于网站新构架 我的一点记录
title: 关于网站新构架 我的一点记录
date: 2022-09-04 22:43:02
categories: 建站
tags: 建站
description: 这次没有继续沿用之前买的香港服务器，虽然有一台服务器是极好的，但是对于学生来说，似乎没有这么多财力去支持自己维持服务器。于是，我选用了一种便宜的、更加适合我的博客建站结构:<Center>Netlify+Github+Cloudflare。</center>
---
<center><img src="https://bu.dusays.com/2022/09/05/6314dd6226c5e.jpg"></center>

<br>
　　这次没有继续沿用之前买的香港服务器，虽然有一台服务器是极好的，但是对于学生来说，似乎没有这么多财力去支持自己维持服务器。


<center>于是，我选用了一种便宜的、更加适合我的博客建站结构。</center>

<center>Netlify+Github+Cloudflare</center>

<center>这应该是我建立博客的终极解决方案了。</center>

<center>优点：“便宜、本地化编辑、锻炼代码能力”</center><center>缺点：“复杂、可视化程度低、访问稍慢”</center>

　　回顾一下我在建站当中遇到的困难，犯了很多简单的错，也学到了很多东西：

1.config配置时，冒号后忘记添加空格导致识别错误
--

　　这是我**最简单**的错误，也是出现**最多次**的错误。其实不止是在Hexo的config配置文件中，写.ejs的网页文件中也出现了同样的问题，所以说，代码是需要**严肃对待**的，一个空格没有导致格式对不上都不行。
 
2.Cloudflare配置时忘记添加解析
--

　　同样也是一个很愚蠢的错误，我的腾讯云服务器更改DNS服务器到Cloudflare后，在Cloudflare忘记添加从本域名到托管静态网站Netlify的CRANE域名转发，导致我自己感觉配置好了的服务却**无法访问进入网站**。这首先是因为在添加进Cloudflare时，网站的自动解析没有检测到我在原服务商的转发；其次就是因为我对这种CDN服务的原理理解模糊，才出现这种低级的错误。

3.头像链接超时导致网站访问速度慢
--

　　也许这是对于我来说最有技术含量的排障——这一点让我困惑了很久，明明用着**同样的构架**，为什么我的网站进入速度比别人的博客总要**慢不少**？但当我挂上科学上网时，又几乎能秒开网址。刚开始我以为是因为我使用的是免费的Cloudflare加速服务，而别人为此付了费。但后来我打开**开发者工具**，切换到**Network**查看网站资源的调取情况时，发现我使用的argvchs大佬制作的主题中，读取头像调用的是avatar的url，但是在国内访问会出现timed out**超时**的情况，并且此主题下如果**没有完整读取页面会一直在加载界面缓冲**，最后我直接找到ejs源文件对头像的读取url进行了修改，使用了便宜的好用的付费图床**去不图床**，终于解决了这个**严重影响网站访问**的问题。

<font size=4>　　对于我来说，想要说的话不是这一篇文章就能写完，但可能大多都是我的抱怨之言吧。不过总而总之，这个博客也是能顺利的访问和发布内容了。其实我并没有什么资格能够做知识输出，所以非常感谢屏幕前的你能够耐心地看完这篇文章，<font color=red>非常感谢。</font>

------------------------------------------------------------------------------------------

　　以下内容更新于20221014，特别提到由Cloudflare提供的CDN服务。

　　在刚建站的世界挂上由Cloudflare提供的服务确实对网站起到了一定的加速效果。但是大约从10月开始，我发现网站访问的速度变慢了，在更换DNS和对网站进行响应测试的过程中，发现Cloudflare反而对访问网站有一定减速，故弃用此服务转而采用Netlify自带的DNS服务。截止20221014日，本站的访问速度勉强舒适，想念原来有香港服务器的日子了。

　　并且通过主机MX解析，域名已经能够提供电子邮件服务，于是我给自己开了一个邮箱lac@acr1m.com，如果收到您的邮件我会非常开心！